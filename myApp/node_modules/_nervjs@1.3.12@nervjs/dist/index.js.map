{"version":3,"file":"index.js","sources":["../../nerv-utils/dist/index.js","../src/current-owner.ts","../../nerv-shared/dist/index.js","../src/vdom/ref.ts","../src/event.ts","../src/options.ts","../src/vdom/unmount.ts","../src/vdom/svg-property-config.ts","../src/vdom/patch.ts","../src/vdom/create-element.ts","../src/vdom/create-vtext.ts","../src/vdom/create-void.ts","../src/lifecycle.ts","../src/render-queue.ts","../src/component.ts","../src/pure-component.ts","../src/render.ts","../src/vdom/create-vnode.ts","../src/vdom/h.ts","../src/full-component.ts","../src/stateless-component.ts","../src/create-element.ts","../src/clone-element.ts","../src/children.ts","../src/hydrate.ts","../src/vdom/create-portal.ts","../src/version.ts","../src/dom.ts","../src/prop-types.ts","../src/index.ts"],"sourcesContent":["// tslint:disable-next-line\r\nvar global = (function () {\r\n    let local;\r\n    if (typeof global !== 'undefined') {\r\n        local = global;\r\n    }\r\n    else if (typeof self !== 'undefined') {\r\n        local = self;\r\n    }\r\n    else {\r\n        try {\r\n            local = Function('return this')();\r\n        }\r\n        catch (e) {\r\n            throw new Error('global object is unavailable in this environment');\r\n        }\r\n    }\r\n    return local;\r\n})();\r\nconst isBrowser = typeof window !== 'undefined';\r\n// tslint:disable-next-line:no-empty\r\nfunction noop() { }\r\nconst fakeDoc = {\r\n    createElement: noop,\r\n    createElementNS: noop,\r\n    createTextNode: noop\r\n};\r\nconst doc = isBrowser ? document : fakeDoc;\n\nfunction isNumber(arg) {\r\n    return typeof arg === 'number';\r\n}\r\nconst isSupportSVG = isFunction(doc.createAttributeNS);\r\nfunction isString(arg) {\r\n    return typeof arg === 'string';\r\n}\r\nfunction isFunction(arg) {\r\n    return typeof arg === 'function';\r\n}\r\nfunction isBoolean(arg) {\r\n    return arg === true || arg === false;\r\n}\r\nconst isArray = Array.isArray;\r\nfunction isObject(arg) {\r\n    return arg === Object(arg) && !isFunction(arg);\r\n}\r\nfunction isNative(Ctor) {\r\n    return isFunction(Ctor) && /native code/.test(Ctor.toString());\r\n}\r\nfunction isUndefined(o) {\r\n    return o === undefined;\r\n}\n\nconst isMacSafari = navigator && navigator.platform &&\r\n    /mac/i.test(navigator.platform) && /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\nconst canUsePromise = 'Promise' in global && !isMacSafari;\r\nlet resolved;\r\nif (canUsePromise) {\r\n    resolved = Promise.resolve();\r\n}\r\nconst nextTick = (fn, ...args) => {\r\n    fn = isFunction(fn) ? fn.bind(null, ...args) : fn;\r\n    if (canUsePromise) {\r\n        return resolved.then(fn);\r\n    }\r\n    const timerFunc = 'requestAnimationFrame' in global ? requestAnimationFrame : setTimeout;\r\n    timerFunc(fn);\r\n};\n\n/* istanbul ignore next */\r\n// tslint:disable-next-line\r\nObject.is = Object.is || function (x, y) {\r\n    if (x === y) {\r\n        return x !== 0 || 1 / x === 1 / y;\r\n    }\r\n    return x !== x && y !== y;\r\n};\r\nfunction shallowEqual(obj1, obj2) {\r\n    if (obj1 === null || obj2 === null) {\r\n        return false;\r\n    }\r\n    if (Object.is(obj1, obj2)) {\r\n        return true;\r\n    }\r\n    const obj1Keys = obj1 ? Object.keys(obj1) : [];\r\n    const obj2Keys = obj2 ? Object.keys(obj2) : [];\r\n    if (obj1Keys.length !== obj2Keys.length) {\r\n        return false;\r\n    }\r\n    for (let i = 0; i < obj1Keys.length; i++) {\r\n        const obj1KeyItem = obj1Keys[i];\r\n        if (!obj2.hasOwnProperty(obj1KeyItem) || !Object.is(obj1[obj1KeyItem], obj2[obj1KeyItem])) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\n\nclass SimpleMap {\r\n    constructor() {\r\n        this.cache = [];\r\n        this.size = 0;\r\n    }\r\n    set(k, v) {\r\n        const len = this.cache.length;\r\n        if (!len) {\r\n            this.cache.push({ k, v });\r\n            this.size += 1;\r\n            return;\r\n        }\r\n        for (let i = 0; i < len; i++) {\r\n            const item = this.cache[i];\r\n            if (item.k === k) {\r\n                item.v = v;\r\n                return;\r\n            }\r\n        }\r\n        this.cache.push({ k, v });\r\n        this.size += 1;\r\n    }\r\n    get(k) {\r\n        const len = this.cache.length;\r\n        if (!len) {\r\n            return;\r\n        }\r\n        for (let i = 0; i < len; i++) {\r\n            const item = this.cache[i];\r\n            if (item.k === k) {\r\n                return item.v;\r\n            }\r\n        }\r\n    }\r\n    has(k) {\r\n        const len = this.cache.length;\r\n        if (!len) {\r\n            return false;\r\n        }\r\n        for (let i = 0; i < len; i++) {\r\n            const item = this.cache[i];\r\n            if (item.k === k) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    delete(k) {\r\n        const len = this.cache.length;\r\n        for (let i = 0; i < len; i++) {\r\n            const item = this.cache[i];\r\n            if (item.k === k) {\r\n                this.cache.splice(i, 1);\r\n                this.size -= 1;\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    clear() {\r\n        let len = this.cache.length;\r\n        this.size = 0;\r\n        if (!len) {\r\n            return;\r\n        }\r\n        while (len) {\r\n            this.cache.pop();\r\n            len--;\r\n        }\r\n    }\r\n}\r\nconst MapClass = 'Map' in global ? Map : SimpleMap;\n\nfunction getPrototype(obj) {\r\n    /* istanbul ignore next */\r\n    if (Object.getPrototypeOf) {\r\n        return Object.getPrototypeOf(obj);\r\n    }\r\n    else if (obj.__proto__) {\r\n        return obj.__proto__;\r\n    }\r\n    /* istanbul ignore next */\r\n    return obj.constructor.prototype;\r\n}\r\nfunction isAttrAnEvent(attr) {\r\n    return attr[0] === 'o' && attr[1] === 'n';\r\n}\r\nconst extend = (() => {\r\n    if ('assign' in Object) {\r\n        return (source, from) => {\r\n            if (!from) {\r\n                return source;\r\n            }\r\n            Object.assign(source, from);\r\n            return source;\r\n        };\r\n    }\r\n    else {\r\n        return (source, from) => {\r\n            if (!from) {\r\n                return source;\r\n            }\r\n            for (const key in from) {\r\n                if (from.hasOwnProperty(key)) {\r\n                    source[key] = from[key];\r\n                }\r\n            }\r\n            return source;\r\n        };\r\n    }\r\n})();\r\nfunction clone(obj) {\r\n    return extend({}, obj);\r\n}\n\nexport { getPrototype, isAttrAnEvent, extend, clone, nextTick, shallowEqual, SimpleMap, MapClass, isBrowser, doc, isNumber, isSupportSVG, isString, isFunction, isBoolean, isArray, isObject, isNative, isUndefined };\n//# sourceMappingURL=index.js.map\n","const Current: {\n  current: any\n} = {\n  current: null\n}\n\nexport default Current\n","const EMPTY_CHILDREN = [];\r\nconst EMPTY_OBJ = {};\r\nfunction isNullOrUndef(o) {\r\n    return o === undefined || o === null;\r\n}\r\nfunction isInvalid(o) {\r\n    return isNullOrUndef(o) || o === true || o === false;\r\n}\r\nfunction isVNode(node) {\r\n    return !isNullOrUndef(node) && node.vtype === 2 /* Node */;\r\n}\r\nfunction isVText(node) {\r\n    return !isNullOrUndef(node) && node.vtype === 1 /* Text */;\r\n}\r\nfunction isComponent(instance) {\r\n    return !isInvalid(instance) && instance.isReactComponent === EMPTY_OBJ;\r\n}\r\nfunction isWidget(node) {\r\n    return (!isNullOrUndef(node) &&\r\n        (node.vtype & (4 /* Composite */ | 8 /* Stateless */)) > 0);\r\n}\r\nfunction isPortal(vtype, node) {\r\n    return (vtype & 32 /* Portal */) > 0;\r\n}\r\nfunction isComposite(node) {\r\n    return !isNullOrUndef(node) && node.vtype === 4 /* Composite */;\r\n}\r\nfunction isStateless(node) {\r\n    return !isNullOrUndef(node) && node.vtype === 8 /* Stateless */;\r\n}\r\nfunction isValidElement(node) {\r\n    return !isNullOrUndef(node) && node.vtype;\r\n}\r\nfunction isHook(arg) {\r\n    return !isNullOrUndef(arg) && typeof arg.vhook === 'number';\r\n}\r\n// tslint:disable-next-line:no-empty\r\nfunction noop() { }\r\n// typescript will compile the enum's value for us.\r\n// eg.\r\n// Composite = 1 << 2  => Composite = 4\r\nvar VType;\r\n(function (VType) {\r\n    VType[VType[\"Text\"] = 1] = \"Text\";\r\n    VType[VType[\"Node\"] = 2] = \"Node\";\r\n    VType[VType[\"Composite\"] = 4] = \"Composite\";\r\n    VType[VType[\"Stateless\"] = 8] = \"Stateless\";\r\n    VType[VType[\"Void\"] = 16] = \"Void\";\r\n    VType[VType[\"Portal\"] = 32] = \"Portal\";\r\n})(VType || (VType = {}));\n\nexport { EMPTY_CHILDREN, EMPTY_OBJ, isNullOrUndef, isInvalid, isVNode, isVText, isComponent, isWidget, isPortal, isComposite, isStateless, isValidElement, isHook, noop, VType };\n//# sourceMappingURL=index.js.map\n","import { isFunction, isString } from 'nerv-utils'\nimport { isComposite } from 'nerv-shared'\n\nexport default {\n  update (lastVnode, nextVnode, domNode?) {\n    const prevRef = lastVnode != null && lastVnode.ref\n    const nextRef = nextVnode != null && nextVnode.ref\n\n    if (prevRef !== nextRef) {\n      this.detach(lastVnode, prevRef, lastVnode.dom)\n      this.attach(nextVnode, nextRef, domNode)\n    }\n  },\n  attach (vnode, ref, domNode: Element) {\n    const node = isComposite(vnode) ? vnode.component : domNode\n    if (isFunction(ref)) {\n      ref(node)\n    } else if (isString(ref)) {\n      const inst = vnode._owner\n      if (inst && isFunction(inst.render)) {\n        inst.refs[ref] = node\n      }\n    }\n  },\n  detach (vnode, ref, domNode: Element) {\n    const node = isComposite(vnode) ? vnode.component : domNode\n    if (isFunction(ref)) {\n      ref(null)\n    } else if (isString(ref)) {\n      const inst = vnode._owner\n      if (inst.refs[ref] === node && isFunction(inst.render)) {\n        delete inst.refs[ref]\n      }\n    }\n  }\n}\n","import { isFunction, MapClass, doc, isBrowser } from 'nerv-utils'\nimport { noop } from 'nerv-shared'\n\nconst ONINPUT = 'oninput'\nconst ONPROPERTYCHANGE = 'onpropertychange'\nconst isiOS =\n  isBrowser &&\n  !!navigator.platform &&\n  /iPad|iPhone|iPod/.test(navigator.platform)\n\nconst delegatedEvents = new MapClass()\n\nconst unbubbleEvents = {\n  [ONPROPERTYCHANGE]: 1,\n  onmousemove: 1,\n  ontouchmove: 1,\n  onmouseleave: 1,\n  onmouseenter: 1,\n  onload: 1,\n  onunload: 1,\n  onscroll: 1,\n  onfocus: 1,\n  onblur: 1,\n  onrowexit: 1,\n  onbeforeunload: 1,\n  onstop: 1,\n  ondragdrop: 1,\n  ondragenter: 1,\n  ondragexit: 1,\n  ondraggesture: 1,\n  ondragover: 1,\n  oncontextmenu: 1,\n  onerror: 1,\n  onabort: 1,\n  oncanplay: 1,\n  oncanplaythrough: 1,\n  ondurationchange: 1,\n  onemptied: 1,\n  onended: 1,\n  onloadeddata: 1,\n  onloadedmetadata: 1,\n  onloadstart: 1,\n  onencrypted: 1,\n  onpause: 1,\n  onplay: 1,\n  onplaying: 1,\n  onprogress: 1,\n  onratechange: 1,\n  onseeking: 1,\n  onseeked: 1,\n  onstalled: 1,\n  onsuspend: 1,\n  ontimeupdate: 1,\n  onvolumechange: 1,\n  onwaiting: 1\n}\n\nconst bindFocus = false\ndeclare global {\n  interface Event {\n    persist: Function\n  }\n}\n\n/* istanbul ignore next */\nif (isBrowser && navigator.userAgent.indexOf('MSIE 9') >= 0) {\n  const elements: HTMLInputElement[] = []\n  const values: string[] = []\n  doc.addEventListener('selectionchange', () => {\n    const el = doc.activeElement as HTMLInputElement\n    if (detectCanUseOnInputNode(el)) {\n      const index = elements.indexOf(el)\n      const element = elements[index] || elements.push(el)\n      if (element.value !== values[index]) {\n        const ev = doc.createEvent('CustomEvent')\n        ev.initCustomEvent('input', true, true, undefined)\n        values[index] = element.value\n        el.dispatchEvent(ev)\n      }\n    }\n  })\n}\n\nif (typeof Event !== 'undefined' && !Event.prototype.persist) {\n  // tslint:disable-next-line:no-empty\n  Event.prototype.persist = noop\n}\n\nexport function attachEvent (\n  domNode: Element,\n  eventName: string,\n  handler: Function\n) {\n  eventName = fixEvent(domNode, eventName)\n  /* istanbul ignore next */\n  if (eventName === ONPROPERTYCHANGE) {\n    processOnPropertyChangeEvent(domNode, handler)\n    return\n  }\n  let delegatedRoots = delegatedEvents.get(eventName)\n  if (unbubbleEvents[eventName] === 1) {\n    if (!delegatedRoots) {\n      delegatedRoots = new MapClass()\n    }\n    const event = attachEventToNode(domNode, eventName, delegatedRoots)\n    delegatedEvents.set(eventName, delegatedRoots)\n    if (isFunction(handler)) {\n      delegatedRoots.set(domNode, {\n        eventHandler: handler,\n        event\n      })\n    }\n  } else {\n    if (!delegatedRoots) {\n      delegatedRoots = {\n        items: new MapClass()\n      }\n      delegatedRoots.event = attachEventToDocument(\n        doc,\n        eventName,\n        delegatedRoots\n      )\n      delegatedEvents.set(eventName, delegatedRoots)\n    }\n    if (isFunction(handler)) {\n      if (isiOS) {\n        (domNode as any).onclick = noop\n      }\n      delegatedRoots.items.set(domNode, handler)\n    }\n  }\n}\n\nexport function detachEvent (\n  domNode: Element,\n  eventName: string,\n  handler: Function\n) {\n  eventName = fixEvent(domNode, eventName)\n  if (eventName === ONPROPERTYCHANGE) {\n    return\n  }\n  const delegatedRoots = delegatedEvents.get(eventName)\n  if (unbubbleEvents[eventName] === 1 && delegatedRoots) {\n    const event = delegatedRoots.get(domNode)\n    if (event) {\n      domNode.removeEventListener(parseEventName(eventName), event.event, false)\n      /* istanbul ignore next */\n      const delegatedRootsSize = delegatedRoots.size\n      if (delegatedRoots.delete(domNode) && delegatedRootsSize === 0) {\n        delegatedEvents.delete(eventName)\n      }\n    }\n  } else if (delegatedRoots && delegatedRoots.items) {\n    const items = delegatedRoots.items\n    if (items.delete(domNode) && items.size === 0) {\n      doc.removeEventListener(\n        parseEventName(eventName),\n        delegatedRoots.event,\n        false\n      )\n      delegatedEvents.delete(eventName)\n    }\n  }\n}\n\nlet propertyChangeActiveElement\nlet propertyChangeActiveElementValue\nlet propertyChangeActiveElementValueProp\nconst propertyChangeActiveHandlers = {}\n\n/* istanbul ignore next */\nfunction propertyChangeHandler (event) {\n  if (event.propertyName !== 'value') {\n    return\n  }\n  const target = event.target || event.srcElement\n  const val = target.value\n  if (val === propertyChangeActiveElementValue) {\n    return\n  }\n  propertyChangeActiveElementValue = val\n  const handler = propertyChangeActiveHandlers[target.name]\n  if (isFunction(handler)) {\n    handler.call(target, event)\n  }\n}\n\n/* istanbul ignore next */\nfunction processOnPropertyChangeEvent (node, handler) {\n  propertyChangeActiveHandlers[node.name] = handler\n  if (!bindFocus) {\n    // bindFocus = true\n    node.addEventListener(\n      'focusin',\n      () => {\n        unbindOnPropertyChange()\n        bindOnPropertyChange(node)\n      },\n      false\n    )\n    node.addEventListener('focusout', unbindOnPropertyChange, false)\n  }\n}\n\n/* istanbul ignore next */\nfunction bindOnPropertyChange (node) {\n  propertyChangeActiveElement = node\n  propertyChangeActiveElementValue = node.value\n  propertyChangeActiveElementValueProp = Object.getOwnPropertyDescriptor(\n    node.constructor.prototype,\n    'value'\n  )\n  Object.defineProperty(propertyChangeActiveElement, 'value', {\n    get () {\n      return propertyChangeActiveElementValueProp.get.call(this)\n    },\n    set (val) {\n      propertyChangeActiveElementValue = val\n      propertyChangeActiveElementValueProp.set.call(this, val)\n    }\n  })\n  propertyChangeActiveElement.addEventListener(\n    'propertychange',\n    propertyChangeHandler,\n    false\n  )\n}\n\n/* istanbul ignore next */\nfunction unbindOnPropertyChange () {\n  if (!propertyChangeActiveElement) {\n    return\n  }\n  delete propertyChangeActiveElement.value\n  propertyChangeActiveElement.removeEventListener(\n    'propertychange',\n    propertyChangeHandler,\n    false\n  )\n\n  propertyChangeActiveElement = null\n  propertyChangeActiveElementValue = null\n  propertyChangeActiveElementValueProp = null\n}\n\nfunction detectCanUseOnInputNode (node) {\n  const nodeName = node.nodeName && node.nodeName.toLowerCase()\n  const type = node.type\n  return (\n    (nodeName === 'input' && /text|password/.test(type)) ||\n    nodeName === 'textarea'\n  )\n}\n\nfunction fixEvent (node: Element, eventName: string) {\n  if (eventName === 'onDoubleClick') {\n    eventName = 'ondblclick'\n  } else if (eventName === 'onTouchTap') {\n    eventName = 'onclick'\n    // tslint:disable-next-line:prefer-conditional-expression\n  } else if (eventName === 'onChange' && detectCanUseOnInputNode(node)) {\n    eventName = ONINPUT in window ? ONINPUT : ONPROPERTYCHANGE\n  } else {\n    eventName = eventName.toLowerCase()\n  }\n  return eventName\n}\n\nfunction parseEventName (name) {\n  return name.substr(2)\n}\n/* istanbul ignore next */\nfunction stopPropagation () {\n  this.cancelBubble = true\n  this.stopImmediatePropagation()\n}\n\nfunction dispatchEvent (event, target, items, count, eventData) {\n  const eventsToTrigger = items.get(target)\n  if (eventsToTrigger) {\n    count--\n    eventData.currentTarget = target\n    // for React synthetic event compatibility\n    Object.defineProperties(event, {\n      nativeEvent: {\n        value: event\n      }\n    })\n    eventsToTrigger(event)\n    if (event.cancelBubble) {\n      return\n    }\n  }\n  if (count > 0) {\n    const parentDom = target.parentNode\n    if (\n      parentDom === null ||\n      (event.type === 'click' && parentDom.nodeType === 1 && parentDom.disabled)\n    ) {\n      return\n    }\n    dispatchEvent(event, parentDom, items, count, eventData)\n  }\n}\n\nfunction attachEventToDocument (d, eventName, delegatedRoots) {\n  const eventHandler = (event) => {\n    const items = delegatedRoots.items\n    const count = items.size\n    if (count > 0) {\n      const eventData = {\n        currentTarget: event.target\n      }\n      /* istanbul ignore next */\n      try {\n        Object.defineProperties(event, {\n          currentTarget: {\n            configurable: true,\n            get () {\n              return eventData.currentTarget\n            }\n          },\n          stopPropagation: {\n            value: stopPropagation\n          }\n        })\n      } catch (error) {\n        // some browsers crashed\n        // see: https://stackoverflow.com/questions/44052813/why-cannot-redefine-property\n      }\n      dispatchEvent(event, event.target, delegatedRoots.items, count, eventData)\n    }\n  }\n  d.addEventListener(parseEventName(eventName), eventHandler, false)\n  return eventHandler\n}\n\nfunction attachEventToNode (node, eventName, delegatedRoots) {\n  const eventHandler = (event) => {\n    const eventToTrigger = delegatedRoots.get(node)\n    if (eventToTrigger && eventToTrigger.eventHandler) {\n      const eventData = {\n        currentTarget: node\n      }\n      /* istanbul ignore next */\n      Object.defineProperties(event, {\n        currentTarget: {\n          configurable: true,\n          get () {\n            return eventData.currentTarget\n          }\n        }\n      })\n      eventToTrigger.eventHandler(event)\n    }\n  }\n  node.addEventListener(parseEventName(eventName), eventHandler, false)\n  return eventHandler\n}\n","import { noop, CompositeComponent, StatelessComponent, VirtualNode } from 'nerv-shared'\n\nexport type optionsHook = (vnode: CompositeComponent | StatelessComponent) => void\n\nconst options: {\n  afterMount: optionsHook\n  afterUpdate: optionsHook\n  beforeUnmount: optionsHook\n  roots: VirtualNode[],\n  debug: boolean\n} = {\n    afterMount: noop,\n    afterUpdate: noop,\n    beforeUnmount: noop,\n    roots: [],\n    debug: false\n  }\n\nexport default options\n","import { isNullOrUndef, isInvalid, VType, VirtualChildren } from 'nerv-shared'\nimport { isAttrAnEvent, isArray } from 'nerv-utils'\nimport Ref from './ref'\nimport { detachEvent } from '../event'\nimport options from '../options'\n\nexport function unmountChildren (\n  children: VirtualChildren,\n  parentDom?: Element\n) {\n  if (isArray(children)) {\n    for (let i = 0, len = children.length; i < len; i++) {\n      unmount(children[i], parentDom)\n    }\n  } else {\n    unmount(children, parentDom)\n  }\n}\n\nexport function unmount (vnode, parentDom?) {\n  if (isInvalid(vnode)) {\n    return\n  }\n  const vtype = vnode.vtype\n  // Bitwise operators for better performance\n  // see: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators\n  const dom = vnode.dom\n\n  if ((vtype & (VType.Composite | VType.Stateless)) > 0) {\n    options.beforeUnmount(vnode)\n    vnode.destroy()\n  } else if ((vtype & VType.Node) > 0) {\n    const { props, children, ref } = vnode\n    unmountChildren(children)\n    for (const propName in props) {\n      if (isAttrAnEvent(propName)) {\n        detachEvent(dom, propName, props[propName])\n      }\n    }\n    if (ref !== null) {\n      Ref.detach(vnode, ref, dom)\n    }\n  } else if (vtype & VType.Portal) {\n    unmountChildren(vnode.children, vnode.type)\n  }\n\n  if (!isNullOrUndef(parentDom) && !isNullOrUndef(dom)) {\n    parentDom.removeChild(dom)\n  }\n  // vnode.dom = null\n}\n","const NS = {\n  ev: 'http://www.w3.org/2001/xml-events',\n  xlink: 'http://www.w3.org/1999/xlink',\n  xml: 'http://www.w3.org/XML/1998/namespace'\n}\n\nconst ATTRS = {\n  accentHeight: 'accent-height',\n  accumulate: 0,\n  additive: 0,\n  alignmentBaseline: 'alignment-baseline',\n  allowReorder: 'allowReorder',\n  alphabetic: 0,\n  amplitude: 0,\n  arabicForm: 'arabic-form',\n  ascent: 0,\n  attributeName: 'attributeName',\n  attributeType: 'attributeType',\n  autoReverse: 'autoReverse',\n  azimuth: 0,\n  baseFrequency: 'baseFrequency',\n  baseProfile: 'baseProfile',\n  baselineShift: 'baseline-shift',\n  bbox: 0,\n  begin: 0,\n  bias: 0,\n  by: 0,\n  calcMode: 'calcMode',\n  capHeight: 'cap-height',\n  clip: 0,\n  clipPath: 'clip-path',\n  clipRule: 'clip-rule',\n  clipPathUnits: 'clipPathUnits',\n  colorInterpolation: 'color-interpolation',\n  colorInterpolationFilters: 'color-interpolation-filters',\n  colorProfile: 'color-profile',\n  colorRendering: 'color-rendering',\n  contentScriptType: 'contentScriptType',\n  contentStyleType: 'contentStyleType',\n  cursor: 0,\n  cx: 0,\n  cy: 0,\n  d: 0,\n  decelerate: 0,\n  descent: 0,\n  diffuseConstant: 'diffuseConstant',\n  direction: 0,\n  display: 0,\n  divisor: 0,\n  dominantBaseline: 'dominant-baseline',\n  dur: 0,\n  dx: 0,\n  dy: 0,\n  edgeMode: 'edgeMode',\n  elevation: 0,\n  enableBackground: 'enable-background',\n  end: 0,\n  evEvent: 'ev:event',\n  exponent: 0,\n  externalResourcesRequired: 'externalResourcesRequired',\n  fill: 0,\n  fillOpacity: 'fill-opacity',\n  fillRule: 'fill-rule',\n  filter: 0,\n  filterRes: 'filterRes',\n  filterUnits: 'filterUnits',\n  floodColor: 'flood-color',\n  floodOpacity: 'flood-opacity',\n  focusable: 0,\n  fontFamily: 'font-family',\n  fontSize: 'font-size',\n  fontSizeAdjust: 'font-size-adjust',\n  fontStretch: 'font-stretch',\n  fontStyle: 'font-style',\n  fontVariant: 'font-variant',\n  fontWeight: 'font-weight',\n  format: 0,\n  from: 0,\n  fx: 0,\n  fy: 0,\n  g1: 0,\n  g2: 0,\n  glyphName: 'glyph-name',\n  glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n  glyphOrientationVertical: 'glyph-orientation-vertical',\n  glyphRef: 'glyphRef',\n  gradientTransform: 'gradientTransform',\n  gradientUnits: 'gradientUnits',\n  hanging: 0,\n  horizAdvX: 'horiz-adv-x',\n  horizOriginX: 'horiz-origin-x',\n  ideographic: 0,\n  imageRendering: 'image-rendering',\n  in: 0,\n  in2: 0,\n  intercept: 0,\n  k: 0,\n  k1: 0,\n  k2: 0,\n  k3: 0,\n  k4: 0,\n  kernelMatrix: 'kernelMatrix',\n  kernelUnitLength: 'kernelUnitLength',\n  kerning: 0,\n  keyPoints: 'keyPoints',\n  keySplines: 'keySplines',\n  keyTimes: 'keyTimes',\n  lengthAdjust: 'lengthAdjust',\n  letterSpacing: 'letter-spacing',\n  lightingColor: 'lighting-color',\n  limitingConeAngle: 'limitingConeAngle',\n  local: 0,\n  markerEnd: 'marker-end',\n  markerMid: 'marker-mid',\n  markerStart: 'marker-start',\n  markerHeight: 'markerHeight',\n  markerUnits: 'markerUnits',\n  markerWidth: 'markerWidth',\n  mask: 0,\n  maskContentUnits: 'maskContentUnits',\n  maskUnits: 'maskUnits',\n  mathematical: 0,\n  mode: 0,\n  numOctaves: 'numOctaves',\n  offset: 0,\n  opacity: 0,\n  operator: 0,\n  order: 0,\n  orient: 0,\n  orientation: 0,\n  origin: 0,\n  overflow: 0,\n  overlinePosition: 'overline-position',\n  overlineThickness: 'overline-thickness',\n  paintOrder: 'paint-order',\n  panose1: 'panose-1',\n  pathLength: 'pathLength',\n  patternContentUnits: 'patternContentUnits',\n  patternTransform: 'patternTransform',\n  patternUnits: 'patternUnits',\n  pointerEvents: 'pointer-events',\n  points: 0,\n  pointsAtX: 'pointsAtX',\n  pointsAtY: 'pointsAtY',\n  pointsAtZ: 'pointsAtZ',\n  preserveAlpha: 'preserveAlpha',\n  preserveAspectRatio: 'preserveAspectRatio',\n  primitiveUnits: 'primitiveUnits',\n  r: 0,\n  radius: 0,\n  refX: 'refX',\n  refY: 'refY',\n  renderingIntent: 'rendering-intent',\n  repeatCount: 'repeatCount',\n  repeatDur: 'repeatDur',\n  requiredExtensions: 'requiredExtensions',\n  requiredFeatures: 'requiredFeatures',\n  restart: 0,\n  result: 0,\n  rotate: 0,\n  rx: 0,\n  ry: 0,\n  scale: 0,\n  seed: 0,\n  shapeRendering: 'shape-rendering',\n  slope: 0,\n  spacing: 0,\n  specularConstant: 'specularConstant',\n  specularExponent: 'specularExponent',\n  speed: 0,\n  spreadMethod: 'spreadMethod',\n  startOffset: 'startOffset',\n  stdDeviation: 'stdDeviation',\n  stemh: 0,\n  stemv: 0,\n  stitchTiles: 'stitchTiles',\n  stopColor: 'stop-color',\n  stopOpacity: 'stop-opacity',\n  strikethroughPosition: 'strikethrough-position',\n  strikethroughThickness: 'strikethrough-thickness',\n  string: 0,\n  stroke: 0,\n  strokeDasharray: 'stroke-dasharray',\n  strokeDashoffset: 'stroke-dashoffset',\n  strokeLinecap: 'stroke-linecap',\n  strokeLinejoin: 'stroke-linejoin',\n  strokeMiterlimit: 'stroke-miterlimit',\n  strokeOpacity: 'stroke-opacity',\n  strokeWidth: 'stroke-width',\n  surfaceScale: 'surfaceScale',\n  systemLanguage: 'systemLanguage',\n  tableValues: 'tableValues',\n  targetX: 'targetX',\n  targetY: 'targetY',\n  textAnchor: 'text-anchor',\n  textDecoration: 'text-decoration',\n  textRendering: 'text-rendering',\n  textLength: 'textLength',\n  to: 0,\n  transform: 0,\n  u1: 0,\n  u2: 0,\n  underlinePosition: 'underline-position',\n  underlineThickness: 'underline-thickness',\n  unicode: 0,\n  unicodeBidi: 'unicode-bidi',\n  unicodeRange: 'unicode-range',\n  unitsPerEm: 'units-per-em',\n  vAlphabetic: 'v-alphabetic',\n  vHanging: 'v-hanging',\n  vIdeographic: 'v-ideographic',\n  vMathematical: 'v-mathematical',\n  values: 0,\n  vectorEffect: 'vector-effect',\n  version: 0,\n  vertAdvY: 'vert-adv-y',\n  vertOriginX: 'vert-origin-x',\n  vertOriginY: 'vert-origin-y',\n  viewBox: 'viewBox',\n  viewTarget: 'viewTarget',\n  visibility: 0,\n  widths: 0,\n  wordSpacing: 'word-spacing',\n  writingMode: 'writing-mode',\n  x: 0,\n  xHeight: 'x-height',\n  x1: 0,\n  x2: 0,\n  xChannelSelector: 'xChannelSelector',\n  xlinkActuate: 'xlink:actuate',\n  xlinkArcrole: 'xlink:arcrole',\n  xlinkHref: 'xlink:href',\n  xlinkRole: 'xlink:role',\n  xlinkShow: 'xlink:show',\n  xlinkTitle: 'xlink:title',\n  xlinkType: 'xlink:type',\n  xmlBase: 'xml:base',\n  xmlId: 'xml:id',\n  xmlns: 0,\n  xmlnsXlink: 'xmlns:xlink',\n  xmlLang: 'xml:lang',\n  xmlSpace: 'xml:space',\n  y: 0,\n  y1: 0,\n  y2: 0,\n  yChannelSelector: 'yChannelSelector',\n  z: 0,\n  zoomAndPan: 'zoomAndPan'\n}\n\nconst SVGPropertyConfig = {\n  Properties: {},\n  DOMAttributeNamespaces: {\n    'ev:event': NS.ev,\n    'xlink:actuate': NS.xlink,\n    'xlink:arcrole': NS.xlink,\n    'xlink:href': NS.xlink,\n    'xlink:role': NS.xlink,\n    'xlink:show': NS.xlink,\n    'xlink:title': NS.xlink,\n    'xlink:type': NS.xlink,\n    'xml:base': NS.xml,\n    'xml:id': NS.xml,\n    'xml:lang': NS.xml,\n    'xml:space': NS.xml\n  },\n  DOMAttributeNames: {}\n}\n\nObject.keys(ATTRS).forEach((key) => {\n  SVGPropertyConfig.Properties[key] = 0\n  if (ATTRS[key]) {\n    SVGPropertyConfig.DOMAttributeNames[key] = ATTRS[key]\n  }\n})\n\nexport default SVGPropertyConfig\n","/* tslint:disable: no-empty*/\nimport {\n  isString,\n  isAttrAnEvent,\n  isNumber,\n  isArray,\n  isFunction,\n  MapClass\n} from 'nerv-utils'\nimport createElement, { mountChild } from './create-element'\nimport {\n  Props,\n  VText,\n  isInvalid,\n  VNode,\n  isNullOrUndef,\n  isValidElement,\n  EMPTY_CHILDREN,\n  VType\n} from 'nerv-shared'\nimport { unmount, unmountChildren } from './unmount'\nimport Ref from './ref'\nimport { attachEvent, detachEvent } from '../event'\nimport SVGPropertyConfig from './svg-property-config'\nimport options from '../options'\n\nexport function patch (\n  lastVnode,\n  nextVnode,\n  parentNode: Element,\n  context: object,\n  isSvg?: boolean\n) {\n  const lastDom = lastVnode.dom\n  let newDom\n  if (isSameVNode(lastVnode, nextVnode)) {\n    const vtype = nextVnode.vtype\n    if (vtype & VType.Node) {\n      isSvg = isNullOrUndef(isSvg) ? lastVnode.isSvg : isSvg\n      if (isSvg) {\n        nextVnode.isSvg = isSvg\n      }\n      patchProps(lastDom, nextVnode.props, lastVnode.props, lastVnode, isSvg)\n      patchChildren(\n        lastDom,\n        lastVnode.children,\n        nextVnode.children,\n        context,\n        isSvg as boolean\n      )\n      if (nextVnode.ref !== null) {\n        Ref.update(lastVnode, nextVnode, lastDom)\n      }\n      newDom = lastDom\n    } else if ((vtype & (VType.Composite | VType.Stateless)) > 0) {\n      newDom = nextVnode.update(lastVnode, nextVnode, context)\n      options.afterUpdate(nextVnode)\n    } else if (vtype & VType.Text) {\n      return patchVText(lastVnode, nextVnode)\n    } else if (vtype & VType.Portal) {\n      patchChildren(lastVnode.type, lastVnode.children, nextVnode.children, context, isSvg as boolean)\n    }\n    // @TODO: test case\n    nextVnode.dom = newDom || lastDom\n  } else if (isArray(lastVnode) && isArray(nextVnode)) {\n    patchArrayChildren(lastDom, lastVnode, nextVnode, context, false)\n  } else {\n    unmount(lastVnode)\n    newDom = createElement(nextVnode, isSvg, context)\n    if (nextVnode !== null) {\n      nextVnode.dom = newDom\n    }\n    if (parentNode !== null) {\n      parentNode.replaceChild(newDom, lastDom)\n    }\n  }\n  return newDom\n}\n\nfunction patchArrayChildren (\n  parentDom: Element,\n  lastChildren,\n  nextChildren,\n  context: object,\n  isSvg: boolean\n) {\n  const lastLength = lastChildren.length\n  const nextLength = nextChildren.length\n  if (lastLength === 0) {\n    if (nextLength > 0) {\n      for (let i = 0; i < nextLength; i++) {\n        mountChild(nextChildren[i], parentDom, context, isSvg)\n      }\n    }\n  } else if (nextLength === 0) {\n    unmountChildren(lastChildren)\n    parentDom.textContent = ''\n  } else {\n    if (isKeyed(lastChildren, nextChildren)) {\n      patchKeyedChildren(\n        lastChildren,\n        nextChildren,\n        parentDom,\n        context,\n        isSvg,\n        lastLength,\n        nextLength\n      )\n    } else {\n      patchNonKeyedChildren(\n        parentDom,\n        lastChildren,\n        nextChildren,\n        context,\n        isSvg,\n        lastLength,\n        nextLength\n      )\n    }\n  }\n}\n\nexport function patchChildren (\n  parentDom: Element,\n  lastChildren,\n  nextChildren,\n  context: object,\n  isSvg: boolean\n) {\n  // @TODO: is a better way to compatible with react-router?\n  // if (lastChildren === nextChildren) {\n  //   return\n  // }\n  const lastChildrenIsArray = isArray(lastChildren)\n  const nextChildrenIsArray = isArray(nextChildren)\n  if (lastChildrenIsArray && nextChildrenIsArray) {\n    patchArrayChildren(parentDom, lastChildren, nextChildren, context, isSvg)\n  } else if (!lastChildrenIsArray && !nextChildrenIsArray) {\n    patch(lastChildren, nextChildren, parentDom, context, isSvg)\n  } else if (lastChildrenIsArray && !nextChildrenIsArray) {\n    patchArrayChildren(parentDom, lastChildren, [nextChildren], context, isSvg)\n  } else if (!lastChildrenIsArray && nextChildrenIsArray) {\n    patchArrayChildren(parentDom, [lastChildren], nextChildren, context, isSvg)\n  }\n}\n\nfunction patchNonKeyedChildren (\n  parentDom: Element,\n  lastChildren,\n  nextChildren,\n  context: object,\n  isSvg: boolean,\n  lastLength: number,\n  nextLength: number\n) {\n  const minLength = Math.min(lastLength, nextLength)\n  let i = 0\n  while (i < minLength) {\n    patch(lastChildren[i], nextChildren[i], parentDom, context, isSvg)\n    i++\n  }\n  if (lastLength < nextLength) {\n    for (i = minLength; i < nextLength; i++) {\n      if (parentDom !== null) {\n        parentDom.appendChild(createElement(\n          nextChildren[i],\n          isSvg,\n          context\n        ) as Node)\n      }\n    }\n  } else if (lastLength > nextLength) {\n    for (i = minLength; i < lastLength; i++) {\n      unmount(lastChildren[i], parentDom)\n    }\n  }\n}\n\n/**\n *\n * Virtual DOM patching algorithm based on ivi by\n * Boris Kaul (@localvoid)\n * Licensed under the MIT License\n * https://github.com/ivijs/ivi/blob/master/LICENSE\n *\n */\nfunction patchKeyedChildren (\n  a: VNode[],\n  b: VNode[],\n  dom: Element,\n  context,\n  isSvg: boolean,\n  aLength: number,\n  bLength: number\n) {\n  let aEnd = aLength - 1\n  let bEnd = bLength - 1\n  let aStart = 0\n  let bStart = 0\n  let i\n  let j\n  let aNode\n  let bNode\n  let nextNode\n  let nextPos\n  let node\n  let aStartNode = a[aStart]\n  let bStartNode = b[bStart]\n  let aEndNode = a[aEnd]\n  let bEndNode = b[bEnd]\n\n  // Step 1\n  // tslint:disable-next-line\n  outer: {\n    // Sync nodes with the same key at the beginning.\n    while (aStartNode.key === bStartNode.key) {\n      patch(aStartNode, bStartNode, dom, context, isSvg)\n      aStart++\n      bStart++\n      if (aStart > aEnd || bStart > bEnd) {\n        break outer\n      }\n      aStartNode = a[aStart]\n      bStartNode = b[bStart]\n    }\n\n    // Sync nodes with the same key at the end.\n    while (aEndNode.key === bEndNode.key) {\n      patch(aEndNode, bEndNode, dom, context, isSvg)\n      aEnd--\n      bEnd--\n      if (aStart > aEnd || bStart > bEnd) {\n        break outer\n      }\n      aEndNode = a[aEnd]\n      bEndNode = b[bEnd]\n    }\n  }\n\n  if (aStart > aEnd) {\n    if (bStart <= bEnd) {\n      nextPos = bEnd + 1\n      nextNode = nextPos < bLength ? b[nextPos].dom : null\n      while (bStart <= bEnd) {\n        node = b[bStart]\n        bStart++\n        attachNewNode(dom, createElement(node, isSvg, context), nextNode)\n      }\n    }\n  } else if (bStart > bEnd) {\n    while (aStart <= aEnd) {\n      unmount(a[aStart++], dom)\n    }\n  } else {\n    const aLeft = aEnd - aStart + 1\n    const bLeft = bEnd - bStart + 1\n    const sources = new Array(bLeft)\n\n    // Mark all nodes as inserted.\n    for (i = 0; i < bLeft; i++) {\n      sources[i] = -1\n    }\n    let moved = false\n    let pos = 0\n    let patched = 0\n\n    // When sizes are small, just loop them through\n    if (bLeft <= 4 || aLeft * bLeft <= 16) {\n      for (i = aStart; i <= aEnd; i++) {\n        aNode = a[i]\n        if (patched < bLeft) {\n          for (j = bStart; j <= bEnd; j++) {\n            bNode = b[j]\n            if (aNode.key === bNode.key) {\n              sources[j - bStart] = i\n\n              if (pos > j) {\n                moved = true\n              } else {\n                pos = j\n              }\n              patch(aNode, bNode, dom, context, isSvg)\n              patched++\n              a[i] = null as any\n              break\n            }\n          }\n        }\n      }\n    } else {\n      const keyIndex = new MapClass()\n\n      for (i = bStart; i <= bEnd; i++) {\n        keyIndex.set(b[i].key, i)\n      }\n\n      for (i = aStart; i <= aEnd; i++) {\n        aNode = a[i]\n\n        if (patched < bLeft) {\n          j = keyIndex.get(aNode.key)\n\n          if (j !== undefined) {\n            bNode = b[j]\n            sources[j - bStart] = i\n            if (pos > j) {\n              moved = true\n            } else {\n              pos = j\n            }\n            patch(aNode, bNode, dom, context, isSvg)\n            patched++\n            a[i] = null as any\n          }\n        }\n      }\n    }\n    if (aLeft === aLength && patched === 0) {\n      unmountChildren(a)\n      dom.textContent = ''\n      while (bStart < bLeft) {\n        node = b[bStart]\n        bStart++\n        attachNewNode(dom, createElement(node, isSvg, context), null)\n      }\n    } else {\n      i = aLeft - patched\n      while (i > 0) {\n        aNode = a[aStart++]\n        if (aNode !== null) {\n          unmount(aNode, dom)\n          i--\n        }\n      }\n      if (moved) {\n        const seq = lis(sources)\n        j = seq.length - 1\n        for (i = bLeft - 1; i >= 0; i--) {\n          if (sources[i] === -1) {\n            pos = i + bStart\n            node = b[pos]\n            nextPos = pos + 1\n            attachNewNode(\n              dom,\n              createElement(node, isSvg, context),\n              nextPos < bLength ? b[nextPos].dom : null\n            )\n          } else {\n            if (j < 0 || i !== seq[j]) {\n              pos = i + bStart\n              node = b[pos]\n              nextPos = pos + 1\n              attachNewNode(\n                dom,\n                node.dom,\n                nextPos < bLength ? b[nextPos].dom : null\n              )\n            } else {\n              j--\n            }\n          }\n        }\n      } else if (patched !== bLeft) {\n        for (i = bLeft - 1; i >= 0; i--) {\n          if (sources[i] === -1) {\n            pos = i + bStart\n            node = b[pos]\n            nextPos = pos + 1\n            attachNewNode(\n              dom,\n              createElement(node, isSvg, context),\n              nextPos < bLength ? b[nextPos].dom : null\n            )\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction attachNewNode (parentDom, newNode, nextNode) {\n  if (isNullOrUndef(nextNode)) {\n    parentDom.appendChild(newNode)\n  } else {\n    parentDom.insertBefore(newNode, nextNode)\n  }\n}\n\n/**\n * Slightly modified Longest Increased Subsequence algorithm, it ignores items that have -1 value, they're representing\n * new items.\n *\n * http://en.wikipedia.org/wiki/Longest_increasing_subsequence\n *\n * @param a Array of numbers.\n * @returns Longest increasing subsequence.\n */\nfunction lis (a: number[]): number[] {\n  const p = a.slice()\n  const result: number[] = []\n  result.push(0)\n  let u: number\n  let v: number\n\n  for (let i = 0, il = a.length; i < il; ++i) {\n    if (a[i] === -1) {\n      continue\n    }\n\n    const j = result[result.length - 1]\n    if (a[j] < a[i]) {\n      p[i] = j\n      result.push(i)\n      continue\n    }\n\n    u = 0\n    v = result.length - 1\n\n    while (u < v) {\n      const c = ((u + v) / 2) | 0\n      if (a[result[c]] < a[i]) {\n        u = c + 1\n      } else {\n        v = c\n      }\n    }\n\n    if (a[i] < a[result[u]]) {\n      if (u > 0) {\n        p[i] = result[u - 1]\n      }\n      result[u] = i\n    }\n  }\n\n  u = result.length\n  v = result[u - 1]\n\n  while (u-- > 0) {\n    result[u] = v\n    v = p[v]\n  }\n\n  return result\n}\n\nfunction isKeyed (lastChildren: VNode[], nextChildren: VNode[]): boolean {\n  return (\n    nextChildren.length > 0 &&\n    !isNullOrUndef(nextChildren[0]) &&\n    !isNullOrUndef(nextChildren[0].key) &&\n    lastChildren.length > 0 &&\n    !isNullOrUndef(lastChildren[0]) &&\n    !isNullOrUndef(lastChildren[0].key)\n  )\n}\n\nfunction isSameVNode (a, b) {\n  if (isInvalid(a) || isInvalid(b) || isArray(a) || isArray(b)) {\n    return false\n  }\n  return a.type === b.type && a.vtype === b.vtype && a.key === b.key\n}\n\nfunction patchVText (lastVNode: VText, nextVNode: VText) {\n  const dom = lastVNode.dom\n  if (dom === null) {\n    return\n  }\n  const nextText = nextVNode.text\n  nextVNode.dom = dom\n\n  if (lastVNode.text !== nextText) {\n    dom.nodeValue = nextText as string\n  }\n  return dom\n}\n\nconst skipProps = {\n  children: 1,\n  key: 1,\n  ref: 1,\n  owner: 1\n}\n\nconst IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i\n\nfunction setStyle (domStyle, style, value) {\n  if (isNullOrUndef(value) || (isNumber(value) && isNaN(value))) {\n    domStyle[style] = ''\n    return\n  }\n  if (style === 'float') {\n    domStyle['cssFloat'] = value\n    domStyle['styleFloat'] = value\n    return\n  }\n  domStyle[style] =\n    !isNumber(value) || IS_NON_DIMENSIONAL.test(style) ? value : value + 'px'\n}\n\nfunction patchEvent (\n  eventName: string,\n  lastEvent: Function,\n  nextEvent: Function,\n  domNode: Element\n) {\n  if (lastEvent !== nextEvent) {\n    if (isFunction(lastEvent)) {\n      detachEvent(domNode, eventName, lastEvent)\n    }\n    attachEvent(domNode, eventName, nextEvent)\n  }\n}\n\nfunction patchStyle (lastAttrValue: CSSStyleSheet, nextAttrValue: CSSStyleSheet, dom: HTMLElement) {\n  const domStyle = dom.style\n  let style\n  let value\n\n  if (isString(nextAttrValue)) {\n    domStyle.cssText = nextAttrValue\n    return\n  }\n  if (!isNullOrUndef(lastAttrValue) && !isString(lastAttrValue)) {\n    for (style in nextAttrValue) {\n      value = nextAttrValue[style]\n      if (value !== lastAttrValue[style]) {\n        setStyle(domStyle, style, value)\n      }\n    }\n    for (style in lastAttrValue) {\n      if (isNullOrUndef(nextAttrValue[style])) {\n        domStyle[style] = ''\n      }\n    }\n  } else {\n    for (style in nextAttrValue) {\n      value = nextAttrValue[style]\n      setStyle(domStyle, style, value)\n    }\n  }\n}\n\nexport function patchProp (\n  domNode: Element,\n  prop: string,\n  lastValue,\n  nextValue,\n  lastVnode: VNode | null,\n  isSvg?: boolean\n) {\n  // fix the value update for textarea/input\n  if (lastValue !== nextValue || prop === 'value') {\n    if (prop === 'className') {\n      prop = 'class'\n    }\n    if (skipProps[prop] === 1) {\n      return\n    } else if (prop === 'class' && !isSvg) {\n      domNode.className = nextValue\n    } else if (prop === 'dangerouslySetInnerHTML') {\n      const lastHtml = lastValue && lastValue.__html\n      const nextHtml = nextValue && nextValue.__html\n\n      if (lastHtml !== nextHtml) {\n        if (!isNullOrUndef(nextHtml)) {\n          if (\n            isValidElement(lastVnode) &&\n            lastVnode.children !== EMPTY_CHILDREN\n          ) {\n            unmountChildren(lastVnode.children)\n            lastVnode.children = []\n          }\n          domNode.innerHTML = nextHtml\n        }\n      }\n    } else if (isAttrAnEvent(prop)) {\n      patchEvent(prop, lastValue, nextValue, domNode)\n    } else if (prop === 'style') {\n      patchStyle(lastValue, nextValue, domNode as HTMLElement)\n    } else if (\n      prop !== 'list' &&\n      prop !== 'type' &&\n      !isSvg &&\n      prop in domNode\n    ) {\n      setProperty(domNode, prop, nextValue == null ? '' : nextValue)\n      if (nextValue == null || nextValue === false) {\n        domNode.removeAttribute(prop)\n      }\n    } else if (isNullOrUndef(nextValue) || nextValue === false) {\n      domNode.removeAttribute(prop)\n    } else {\n      const namespace = SVGPropertyConfig.DOMAttributeNamespaces[prop]\n      if (isSvg && namespace) {\n        if (nextValue) {\n          domNode.setAttributeNS(namespace, prop, nextValue)\n        } else {\n          const colonPosition = prop.indexOf(':')\n          const localName =\n            colonPosition > -1 ? prop.substr(colonPosition + 1) : prop\n          domNode.removeAttributeNS(namespace, localName)\n        }\n      } else {\n        if (!isFunction(nextValue)) {\n          domNode.setAttribute(prop, nextValue)\n        }\n        // WARNING: Non-event attributes with function values:\n        // https://reactjs.org/blog/2017/09/08/dom-attributes-in-react-16.html#changes-in-detail\n      }\n    }\n  }\n}\n\nexport function setProperty (node, name, value) {\n  try {\n    node[name] = value\n  } catch (e) {}\n}\n\nfunction patchProps (\n  domNode: Element,\n  nextProps: Props,\n  previousProps: Props,\n  lastVnode: VNode,\n  isSvg?: boolean\n) {\n  for (const propName in previousProps) {\n    const value = previousProps[propName]\n    if (isNullOrUndef(nextProps[propName]) && !isNullOrUndef(value)) {\n      if (isAttrAnEvent(propName)) {\n        detachEvent(domNode, propName, value)\n      } else if (propName === 'dangerouslySetInnerHTML') {\n        domNode.textContent = ''\n      } else if (propName === 'className') {\n        domNode.removeAttribute('class')\n      } else {\n        domNode.removeAttribute(propName)\n      }\n    }\n  }\n  for (const propName in nextProps) {\n    patchProp(\n      domNode,\n      propName,\n      previousProps[propName],\n      nextProps[propName],\n      lastVnode,\n      isSvg\n    )\n  }\n}\n\nexport default patch\n","import { isSupportSVG, isArray, isString, isNumber, doc, isBoolean } from 'nerv-utils'\nimport {\n  isNullOrUndef,\n  VirtualNode,\n  isInvalid,\n  VType,\n  VNode,\n  isValidElement,\n  EMPTY_OBJ,\n  CompositeComponent,\n  isPortal\n} from 'nerv-shared'\nimport { patchProp } from './patch'\nimport Ref from './ref'\nimport options from '../options'\n\nconst SVG_NAMESPACE = 'http://www.w3.org/2000/svg'\n\nfunction createElement (\n  vnode: VirtualNode | VirtualNode[],\n  isSvg?: boolean,\n  parentContext?,\n  parentComponent?\n): Element | Text | Comment | DocumentFragment | null {\n  let domNode\n  if (isValidElement(vnode)) {\n    const vtype = vnode.vtype\n    if (vtype & (VType.Composite | VType.Stateless)) {\n      domNode = (vnode as CompositeComponent).init(parentContext, parentComponent)\n      options.afterMount(vnode as CompositeComponent)\n    } else if (vtype & VType.Text) {\n      domNode = doc.createTextNode((vnode as any).text);\n      (vnode as any).dom = domNode\n    } else if (vtype & VType.Node) {\n      domNode = mountVNode(vnode as any, isSvg, parentContext, parentComponent)\n    } else if (vtype & VType.Void) {\n      domNode = (vnode as any).dom = doc.createTextNode('')\n    } else if (isPortal(vtype, vnode)) {\n      vnode.type.appendChild(\n        createElement(vnode.children, isSvg, parentContext, parentComponent) as Element\n      )\n      domNode = doc.createTextNode('')\n    }\n  } else if (isString(vnode) || isNumber(vnode)) {\n    domNode = doc.createTextNode(vnode as string)\n  } else if (isNullOrUndef(vnode) || isBoolean(vnode)) {\n    domNode = doc.createTextNode('')\n  } else if (isArray(vnode)) {\n    domNode = doc.createDocumentFragment()\n    vnode.forEach((child) => {\n      if (!isInvalid(child)) {\n        const childNode = createElement(child, isSvg, parentContext, parentComponent)\n        if (childNode) {\n          domNode.appendChild(childNode)\n        }\n      }\n    })\n  } else {\n    throw new Error('Unsupported VNode.')\n  }\n  return domNode\n}\n\nexport function mountVNode (vnode: VNode, isSvg?: boolean, parentContext?, parentComponent?) {\n  if (vnode.isSvg) {\n    isSvg = true\n  } else if (vnode.type === 'svg') {\n    isSvg = true\n  /* istanbul ignore next */\n  } else if (!isSupportSVG) {\n    isSvg = false\n  }\n  if (isSvg) {\n    vnode.namespace = SVG_NAMESPACE\n    vnode.isSvg = isSvg\n  }\n  const domNode = !isSvg\n    ? doc.createElement(vnode.type)\n    : doc.createElementNS(vnode.namespace, vnode.type)\n  setProps(domNode, vnode, isSvg as boolean)\n  if (vnode.type === 'foreignObject') {\n    isSvg = false\n  }\n  const children = vnode.children\n  if (isArray(children)) {\n    for (let i = 0, len = children.length; i < len; i++) {\n      mountChild(children[i] as VNode, domNode, parentContext, isSvg, parentComponent)\n    }\n  } else {\n    mountChild(children as VNode, domNode, parentContext, isSvg, parentComponent)\n  }\n  vnode.dom = domNode\n  if (vnode.ref !== null) {\n    Ref.attach(vnode, vnode.ref, domNode)\n  }\n  return domNode\n}\n\nexport function mountChild (\n  child: VNode,\n  domNode: Element,\n  parentContext: Object,\n  isSvg?: boolean,\n  parentComponent?\n) {\n  child.parentContext = parentContext || EMPTY_OBJ\n  const childNode = createElement(child as VNode, isSvg, parentContext, parentComponent)\n  if (childNode !== null) {\n    domNode.appendChild(childNode)\n  }\n}\n\nfunction setProps (domNode: Element, vnode: VNode, isSvg: boolean) {\n  const props = vnode.props\n  for (const p in props) {\n    patchProp(domNode, p, null, props[p], null, isSvg)\n  }\n}\n\nexport default createElement\n","import { VType, VText } from 'nerv-shared'\n\nexport default function createVText (text: string | number): VText {\n  return {\n    text,\n    vtype: VType.Text,\n    dom: null\n  }\n}\n","import { VType } from 'nerv-shared'\nexport function createVoid () {\n  return {\n    dom: null,\n    vtype: VType.Void\n  }\n}\n","// import { extend, isFunction, isNumber, isString } from 'nerv-utils'\nimport { extend, isFunction, isNumber, isString, clone } from 'nerv-utils'\nimport CurrentOwner from './current-owner'\nimport createElement from './vdom/create-element'\nimport createVText from './vdom/create-vtext'\nimport { createVoid } from './vdom/create-void'\nimport patch from './vdom/patch'\nimport {\n  Component,\n  isNullOrUndef,\n  CompositeComponent,\n  isComponent,\n  isInvalid,\n  VText,\n  VVoid,\n  VNode,\n  VType,\n  EMPTY_OBJ\n} from 'nerv-shared'\nimport FullComponent from './full-component'\nimport Stateless from './stateless-component'\nimport { unmount } from './vdom/unmount'\nimport Ref from './vdom/ref'\nimport options from './options'\n\nconst readyComponents: any[] = []\n\nfunction errorCatcher (fn: Function, component: Component<any, any>) {\n  try {\n    return fn()\n  } catch (error) {\n    errorHandler(component, error)\n  }\n}\n\nfunction errorHandler (component: Component<any, any>, error) {\n  let boundary\n\n  while (true) {\n    if (isFunction(component.componentDidCatch)) {\n      boundary = component\n      break\n    } else if (component._parentComponent) {\n      component = component._parentComponent\n    } else {\n      break\n    }\n  }\n\n  if (boundary) {\n    const _disable = boundary._disable\n    boundary._disable = false\n    boundary.componentDidCatch(error)\n    boundary._disable = _disable\n  } else {\n    throw error\n  }\n}\n\nfunction ensureVirtualNode (rendered: any): VText | VVoid | VNode {\n  if (isNumber(rendered) || isString(rendered)) {\n    return createVText(rendered)\n  } else if (isInvalid(rendered)) {\n    return createVoid()\n  }\n  return rendered\n}\n\nexport function mountVNode (vnode, parentContext: any, parentComponent?) {\n  return createElement(vnode, false, parentContext, parentComponent)\n}\n\nexport function mountComponent (\n  vnode: FullComponent,\n  parentContext: object,\n  parentComponent\n) {\n  const ref = vnode.ref\n  vnode.component = new vnode.type(vnode.props, parentContext)\n  const component = vnode.component\n  component.vnode = vnode\n  if (isComponent(parentComponent)) {\n    component._parentComponent = parentComponent\n  }\n  if (isFunction(component.componentWillMount)) {\n    errorCatcher(() => {\n      (component as any).componentWillMount()\n    }, component)\n    component.state = component.getState()\n    component.clearCallBacks()\n  }\n  component._dirty = false\n  const rendered = renderComponent(component)\n  rendered.parentVNode = vnode\n  component._rendered = rendered\n  if (isFunction(component.componentDidMount)) {\n    readyComponents.push(component)\n  }\n  if (!isNullOrUndef(ref)) {\n    Ref.attach(vnode, ref, vnode.dom as Element)\n  }\n  const dom = (vnode.dom = mountVNode(\n    rendered,\n    getChildContext(component, parentContext),\n    component\n  ) as Element)\n  component._disable = false\n  return dom\n}\n\nexport function mountStatelessComponent (vnode: Stateless, parentContext) {\n  const rendered = vnode.type(vnode.props, parentContext)\n  vnode._rendered = ensureVirtualNode(rendered)\n  vnode._rendered.parentVNode = vnode\n  return (vnode.dom = mountVNode(vnode._rendered, parentContext) as Element)\n}\n\nexport function getChildContext (component, context = EMPTY_OBJ) {\n  if (component.getChildContext) {\n    return extend(clone(context), component.getChildContext())\n  }\n  return clone(context)\n}\n\nexport function renderComponent (component: Component<any, any>) {\n  CurrentOwner.current = component\n  let rendered\n  errorCatcher(() => {\n    rendered = component.render()\n  }, component)\n  rendered = ensureVirtualNode(rendered)\n  CurrentOwner.current = null\n  return rendered\n}\n\nexport function flushMount () {\n  if (!readyComponents.length) {\n    return\n  }\n  // @TODO: perf\n  const queue = readyComponents.slice(0)\n  readyComponents.length = 0\n  queue.forEach((item) => {\n    if (isFunction(item)) {\n      item()\n    } else if (item.componentDidMount) {\n      errorCatcher(() => {\n        item.componentDidMount()\n      }, item)\n    }\n  })\n}\n\nexport function reRenderComponent (\n  prev: CompositeComponent,\n  current: CompositeComponent\n) {\n  const component = (current.component = prev.component)\n  const nextProps = current.props\n  const nextContext = current.context\n  component._disable = true\n  if (isFunction(component.componentWillReceiveProps)) {\n    errorCatcher(() => {\n      (component as any).componentWillReceiveProps(nextProps, nextContext)\n    }, component)\n  }\n  component._disable = false\n  component.prevProps = component.props\n  component.prevState = component.state\n  component.prevContext = component.context\n  component.props = nextProps\n  component.context = nextContext\n  if (!isNullOrUndef(current.ref)) {\n    Ref.update(prev, current)\n  }\n  return updateComponent(component)\n}\n\nexport function reRenderStatelessComponent (\n  prev: Stateless,\n  current: Stateless,\n  parentContext: Object,\n  domNode: Element\n) {\n  const lastRendered = prev._rendered\n  const rendered = current.type(current.props, parentContext)\n  rendered.parentVNode = current\n  current._rendered = rendered\n  return (current.dom = patch(lastRendered, rendered, lastRendered && lastRendered.dom || domNode, parentContext))\n}\n\nexport function updateComponent (component, isForce = false) {\n  let vnode = component.vnode\n  let dom = vnode.dom\n  const props = component.props\n  const state = component.getState()\n  const context = component.context\n  const prevProps = component.prevProps || props\n  const prevState = component.prevState || component.state\n  const prevContext = component.prevContext || context\n  component.props = prevProps\n  component.context = prevContext\n  let skip = false\n  if (\n    !isForce &&\n    isFunction(component.shouldComponentUpdate) &&\n    component.shouldComponentUpdate(props, state, context) === false\n  ) {\n    skip = true\n  } else if (isFunction(component.componentWillUpdate)) {\n    errorCatcher(() => {\n      component.componentWillUpdate(props, state, context)\n    }, component)\n  }\n  component.props = props\n  component.state = state\n  component.context = context\n  component._dirty = false\n  if (!skip) {\n    const lastRendered = component._rendered\n    const rendered = renderComponent(component)\n    rendered.parentVNode = vnode\n    const childContext = getChildContext(component, context)\n    const parentDom = lastRendered.dom && lastRendered.dom.parentNode\n    dom = vnode.dom = patch(lastRendered, rendered, parentDom || null, childContext)\n    component._rendered = rendered\n    if (isFunction(component.componentDidUpdate)) {\n      errorCatcher(() => {\n        component.componentDidUpdate(prevProps, prevState, context)\n      }, component)\n    }\n    options.afterUpdate(vnode)\n    while (vnode = vnode.parentVNode) {\n      if ((vnode.vtype & (VType.Composite | VType.Stateless)) > 0) {\n        vnode.dom = dom\n      }\n    }\n  }\n  component.prevProps = component.props\n  component.prevState = component.state\n  component.prevContext = component.context\n  component.clearCallBacks()\n  flushMount()\n  return dom\n}\n\nexport function unmountComponent (vnode: FullComponent) {\n  const component = vnode.component\n  if (isFunction(component.componentWillUnmount)) {\n    errorCatcher(() => {\n      (component as any).componentWillUnmount()\n    }, component)\n  }\n  component._disable = true\n  unmount(component._rendered)\n  if (!isNullOrUndef(vnode.ref)) {\n    Ref.detach(vnode, vnode.ref, vnode.dom as any)\n  }\n}\n\nexport function unmountStatelessComponent (vnode: Stateless) {\n  unmount(vnode._rendered)\n}\n","import { nextTick } from 'nerv-utils'\nimport { updateComponent } from './lifecycle'\n\nlet items: any[] = []\n\nexport function enqueueRender (component) {\n  // tslint:disable-next-line:no-conditional-assignment\n  if (!component._dirty && (component._dirty = true) && items.push(component) === 1) {\n    nextTick(rerender)\n  }\n}\n\nexport function rerender () {\n  let p\n  const list = items\n  items = []\n  // tslint:disable-next-line:no-conditional-assignment\n  while ((p = list.pop())) {\n    if (p._dirty) {\n      updateComponent(p)\n    }\n  }\n}\n","import { isFunction, extend, clone, isArray } from 'nerv-utils'\nimport { enqueueRender } from './render-queue'\nimport { updateComponent } from './lifecycle'\nimport { Props, ComponentLifecycle, Refs, EMPTY_OBJ } from 'nerv-shared'\n\ninterface Component<P = {}, S = {}> extends ComponentLifecycle<P, S> {\n  _rendered: any\n  dom: any\n}\n\nclass Component<P, S> implements ComponentLifecycle<P, S> {\n  public static defaultProps: {}\n  state: Readonly<S>\n  props: Readonly<P> & Readonly<Props>\n  context: any\n  _dirty = true\n  _disable = true\n  _pendingStates: any[] = []\n  _pendingCallbacks: Function[]\n  refs: Refs\n  isReactComponent: Object\n\n  constructor (props?: P, context?: any) {\n    if (!this.state) {\n      this.state = {} as S\n    }\n    this.props = props || ({} as P)\n    this.context = context || EMPTY_OBJ\n    this.refs = {}\n  }\n\n  setState<K extends keyof S> (\n    state:\n      | ((prevState: Readonly<S>, props: P) => Pick<S, K> | S)\n      | (Pick<S, K> | S),\n    callback?: () => void\n  ): void {\n    if (state) {\n      (this._pendingStates = this._pendingStates || []).push(state)\n    }\n    if (isFunction(callback)) {\n      (this._pendingCallbacks = this._pendingCallbacks || []).push(callback)\n    }\n    if (!this._disable) {\n      enqueueRender(this)\n    }\n  }\n\n  getState () {\n    // tslint:disable-next-line:no-this-assignment\n    const { _pendingStates, state, props } = this\n    if (!_pendingStates.length) {\n      return state\n    }\n    const stateClone = clone(state)\n    const queue = _pendingStates.concat()\n    this._pendingStates.length = 0\n    queue.forEach((nextState) => {\n      if (isFunction(nextState)) {\n        nextState = nextState.call(this, state, props)\n      }\n      extend(stateClone, nextState)\n    })\n\n    return stateClone\n  }\n\n  clearCallBacks () {\n    if (isArray(this._pendingCallbacks)) {\n      while (this._pendingCallbacks.length) {\n        (this._pendingCallbacks.pop() as any).call(this)\n      }\n    }\n  }\n\n  forceUpdate (callback?: Function) {\n    if (isFunction(callback)) {\n      (this._pendingCallbacks = this._pendingCallbacks || []).push(callback)\n    }\n    updateComponent(this, true)\n  }\n\n  // tslint:disable-next-line\n  public render(nextProps?: P, nextState?, nextContext?): any {}\n}\n\nComponent.prototype.isReactComponent = EMPTY_OBJ\n\nexport default Component\n","import Component from './component'\nimport { shallowEqual } from 'nerv-utils'\n\nclass PureComponent<P, S> extends Component<P, S> {\n  isPureComponent = true\n\n  shouldComponentUpdate (nextProps: P, nextState: S) {\n    return !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState)\n  }\n}\n\nexport default PureComponent\n","import { mountVNode, flushMount } from './lifecycle'\nimport { VirtualNode, isComposite } from 'nerv-shared'\nimport { patch } from './vdom/patch'\nimport options from './options'\n\nexport function render (\n  vnode: VirtualNode,\n  container: Element,\n  callback?: Function\n) {\n  if (!container) {\n    throw new Error(`${container} should be a DOM Element`)\n  }\n  const lastVnode = (container as any)._component\n  let dom\n  options.roots.push(vnode)\n  if (lastVnode !== undefined) {\n    options.roots = options.roots.filter((item) => item !== lastVnode)\n    dom = patch(lastVnode, vnode, container, {})\n  } else {\n    dom = mountVNode(vnode, {})\n    container.appendChild(dom)\n  }\n\n  if (container) {\n    (container as any)._component = vnode\n  }\n  flushMount()\n\n  if (callback) {\n    callback()\n  }\n\n  return isComposite(vnode) ? vnode.component : dom\n}\n","import {\n  Props,\n  VType,\n  VNode,\n  VirtualChildren,\n  Component,\n  EMPTY_OBJ\n} from 'nerv-shared'\n\nfunction createVNode (\n  type: string,\n  props: Props,\n  children: VirtualChildren,\n  key,\n  namespace: string,\n  owner: Component<any, any>,\n  ref: Function | string | null | undefined\n): VNode {\n  return {\n    type,\n    key: key || null,\n    vtype: VType.Node,\n    props: props || EMPTY_OBJ,\n    children,\n    namespace: namespace || null,\n    _owner: owner,\n    dom: null,\n    ref: ref || null\n  }\n}\n\nexport default createVNode\n","import createVNode from './create-vnode'\nimport createVText from './create-vtext'\nimport { createVoid } from './create-void'\nimport {\n  Props,\n  VirtualChildren,\n  VirtualNode,\n  isValidElement,\n  EMPTY_CHILDREN,\n  VNode\n} from 'nerv-shared'\nimport { isString, isArray, isNumber } from 'nerv-utils'\n\nfunction h (type: string, props: Props, children?: VirtualChildren) {\n  let childNodes\n  if (props.children) {\n    if (!children) {\n      children = props.children\n    }\n  }\n  if (isArray(children)) {\n    childNodes = []\n    addChildren(childNodes, children as any, type)\n  } else if (isString(children) || isNumber(children)) {\n    children = createVText(String(children))\n  } else if (!isValidElement(children)) {\n    children = EMPTY_CHILDREN\n  }\n  props.children = childNodes !== undefined ? childNodes : children\n  return createVNode(\n    type,\n    props,\n    props.children as any[],\n    props.key,\n    props.namespace,\n    props.owner,\n    props.ref\n  ) as VNode\n}\n\nfunction addChildren (\n  childNodes: VirtualNode[],\n  children: VirtualNode | VirtualNode[],\n  type: string\n) {\n  if (isString(children) || isNumber(children)) {\n    childNodes.push(createVText(String(children)))\n  } else if (isValidElement(children)) {\n    childNodes.push(children)\n  } else if (isArray(children)) {\n    for (let i = 0; i < children.length; i++) {\n      addChildren(childNodes, children[i], type)\n    }\n  } else {\n    childNodes.push(createVoid())\n  }\n}\n\nexport default h\n","import { VType, Component, CompositeComponent, Ref } from 'nerv-shared'\nimport {\n  mountComponent,\n  reRenderComponent,\n  unmountComponent\n} from './lifecycle'\n\nclass ComponentWrapper implements CompositeComponent {\n  vtype = VType.Composite\n  type: any\n  name: string\n  _owner: any\n  props: any\n  component: Component<any, any>\n  context: any\n  key: any\n  dom: Element | null\n  _rendered: any\n  ref: Ref\n\n  constructor (type, props) {\n    this.type = type\n    this.name = type.name || type.toString().match(/^function\\s*([^\\s(]+)/)[1]\n    type.displayName = this.name\n    this._owner = props.owner\n    delete props.owner\n    if ((this.ref = props.ref)) {\n      delete props.ref\n    }\n    this.props = props\n    this.key = props.key || null\n    this.dom = null\n  }\n\n  init (parentContext, parentComponent) {\n    return mountComponent(this, parentContext, parentComponent)\n  }\n\n  update (previous, current, parentContext, domNode?) {\n    this.context = parentContext\n    return reRenderComponent(previous, this)\n  }\n\n  destroy () {\n    unmountComponent(this)\n  }\n}\n\nexport default ComponentWrapper\n","import { VType } from 'nerv-shared'\nimport { isFunction } from 'nerv-utils'\nimport {\n  mountStatelessComponent,\n  unmountStatelessComponent,\n  reRenderStatelessComponent\n} from './lifecycle'\n\nclass StateLessComponent {\n  vtype = VType.Stateless\n  type: Function\n  name: string\n  _owner: any\n  props: any\n  _rendered: any\n  key: any\n  dom: Element | null\n  constructor (type, props) {\n    this.type = type\n    this._owner = props.owner\n    delete props.owner\n    this.props = props\n    this.key = props.key\n  }\n\n  init (parentContext) {\n    return mountStatelessComponent(this, parentContext)\n  }\n\n  update (previous, current, parentContext) {\n    const { props, context } = current\n    const shouldComponentUpdate = props.onShouldComponentUpdate\n    if (\n      isFunction(shouldComponentUpdate) &&\n      !shouldComponentUpdate(previous.props, props, context)\n    ) {\n      current._rendered = previous._rendered\n      return previous.dom\n    }\n    return reRenderStatelessComponent(previous, this, parentContext, previous.dom)\n  }\n\n  destroy () {\n    unmountStatelessComponent(this)\n  }\n}\n\nexport default StateLessComponent\n","import h from './vdom/h'\nimport { isFunction, isString, isUndefined } from 'nerv-utils'\nimport FullComponent from './full-component'\nimport StatelessComponent from './stateless-component'\nimport CurrentOwner from './current-owner'\nimport {\n  Props,\n  Component,\n  VNode,\n  VirtualChildren,\n  EMPTY_CHILDREN\n} from 'nerv-shared'\nimport SVGPropertyConfig from './vdom/svg-property-config'\n\nfunction transformPropsForRealTag (type: string, props: Props) {\n  const newProps: Props = {}\n  for (const propName in props) {\n    const propValue = props[propName]\n    if (propName === 'defaultValue') {\n      newProps.value = props.value || props.defaultValue\n      continue\n    }\n    const svgPropName = SVGPropertyConfig.DOMAttributeNames[propName]\n    if (svgPropName && svgPropName !== propName) {\n      newProps[svgPropName] = propValue\n      continue\n    }\n    newProps[propName] = propValue\n  }\n  return newProps\n}\n\n/**\n *\n * @param props\n * @param defaultProps\n * defaultProps should respect null but ignore undefined\n * @see: https://facebook.github.io/react/docs/react-component.html#defaultprops\n */\nfunction transformPropsForComponent (props: Props, defaultProps?: Props) {\n  const newProps: any = {}\n  for (const propName in props) {\n    const propValue = props[propName]\n    newProps[propName] = propValue\n  }\n  if (defaultProps) {\n    for (const propName in defaultProps) {\n      if (isUndefined(newProps[propName])) {\n        newProps[propName] = defaultProps[propName]\n      }\n    }\n  }\n  return newProps\n}\n\nfunction createElement<T> (\n  type: string | Function | Component<any, any>,\n  properties?: T & Props | null,\n  ..._children: Array<VirtualChildren | null>\n) {\n  let children: any = _children\n  if (_children) {\n    if (_children.length === 1) {\n      children = _children[0]\n    } else if (_children.length === 0) {\n      children = undefined\n    }\n  }\n  let props\n  if (isString(type)) {\n    props = transformPropsForRealTag(type, properties as Props)\n    props.owner = CurrentOwner.current\n    return h(type, props, children as any) as VNode\n  } else if (isFunction(type)) {\n    props = transformPropsForComponent(\n      properties as any,\n      (type as any).defaultProps\n    )\n    if (!props.children || props.children === EMPTY_CHILDREN) {\n      props.children = children || children === 0 ? children : EMPTY_CHILDREN\n    }\n    props.owner = CurrentOwner.current\n    return type.prototype && type.prototype.render\n      ? new FullComponent(type, props)\n      : new StatelessComponent(type, props)\n  }\n  return type\n}\n\nexport default createElement\n","import createElement from './create-element'\nimport createVText from './vdom/create-vtext'\nimport { extend, clone, isArray, isString, isNumber } from 'nerv-utils'\nimport { isVText, isVNode, EMPTY_CHILDREN, VType, isNullOrUndef, isPortal, isInvalid } from 'nerv-shared'\nimport { createVoid } from './vdom/create-void'\n\nexport default function cloneElement (vnode, props?: object, ...children): any {\n  if (isVText(vnode)) {\n    return createVText(vnode.text)\n  }\n  if (isString(vnode) || isNumber(vnode)) {\n    return createVText(vnode)\n  }\n  if (isInvalid(vnode)\n    || (!isInvalid(vnode) && isPortal(vnode.vtype, vnode))\n    || (vnode && (vnode.vtype & VType.Void))) {\n    return createVoid()\n  }\n  const properties = clone(extend(clone(vnode.props), props))\n  if (vnode.namespace) {\n    properties.namespace = vnode.namespace\n  }\n  if ((vnode.vtype & VType.Composite) && !isNullOrUndef(vnode.ref)) {\n    properties.ref = vnode.ref\n  }\n  let childrenTmp =\n    (arguments.length > 2 ?\n      [].slice.call(arguments, 2) :\n      vnode.children || properties.children) || []\n  if (childrenTmp.length) {\n    if (childrenTmp.length === 1) {\n      childrenTmp = children[0]\n    }\n  }\n  if (isArray(vnode)) {\n    return vnode.map((item) => {\n      return cloneElement(item)\n    })\n  }\n  const newVNode = createElement(vnode.type, properties)\n  if (isArray(childrenTmp)) {\n    let _children = childrenTmp.map((child) => {\n      return cloneElement(child, child.props)\n    })\n    if (_children.length === 0) {\n      _children = EMPTY_CHILDREN\n    }\n    if (isVNode(newVNode)) {\n      newVNode.children = _children\n    }\n    newVNode.props.children = _children\n  } else if (childrenTmp) {\n    if (isVNode(newVNode)) {\n      newVNode.children = cloneElement(childrenTmp)\n    }\n    newVNode.props.children = cloneElement(childrenTmp, childrenTmp.props)\n  }\n  return newVNode\n}\n","import { isArray } from 'nerv-utils'\nimport {\n  isNullOrUndef,\n  VirtualChildren,\n  EMPTY_CHILDREN,\n  isInvalid\n} from 'nerv-shared'\n\nexport type IterateFn = (\n  value: VirtualChildren | any,\n  index: number,\n  array: Array<VirtualChildren | any>\n) => any\n\nexport const Children = {\n  map (children: Array<VirtualChildren | any>, fn: IterateFn, ctx: any): any[] {\n    if (isNullOrUndef(children)) {\n      return children\n    }\n    children = Children.toArray(children)\n    if (ctx && ctx !== children) {\n      fn = fn.bind(ctx)\n    }\n    return children.map(fn)\n  },\n  forEach (\n    children: Array<VirtualChildren | any>,\n    fn: IterateFn,\n    ctx: any\n  ): void {\n    if (isNullOrUndef(children)) {\n      return\n    }\n    children = Children.toArray(children)\n    if (ctx && ctx !== children) {\n      fn = fn.bind(ctx)\n    }\n    for (let i = 0, len = children.length; i < len; i++) {\n      const child = isInvalid(children[i]) ? null : children[i]\n\n      fn(child, i, children)\n    }\n  },\n  count (children: Array<VirtualChildren | any>): number {\n    children = Children.toArray(children)\n    return children.length\n  },\n  only (children: Array<VirtualChildren | any>): VirtualChildren | any {\n    children = Children.toArray(children)\n    if (children.length !== 1) {\n      throw new Error('Children.only() expects only one child.')\n    }\n    return children[0]\n  },\n  toArray (\n    children: Array<VirtualChildren | any>\n  ): Array<VirtualChildren | any> {\n    if (isNullOrUndef(children)) {\n      return []\n    }\n    if (isArray(children)) {\n      const result = []\n\n      flatten(children, result)\n\n      return result\n    }\n    return EMPTY_CHILDREN.concat(children)\n  }\n}\n\nfunction flatten (arr, result) {\n  for (let i = 0, len = arr.length; i < len; i++) {\n    const value = arr[i]\n    if (isArray(value)) {\n      flatten(value, result)\n    } else {\n      result.push(value)\n    }\n  }\n  return result\n}\n","// tslint:disable:no-conditional-assignment\nimport { render } from './render'\n\nexport function hydrate (vnode, container: Element, callback?: Function) {\n  if (container !== null) {\n    // lastChild causes less reflow than firstChild\n    let dom = container.lastChild as Element\n    // there should be only a single entry for the root\n    while (dom) {\n      const next = dom.previousSibling\n      container.removeChild(dom)\n      dom = next as Element\n    }\n    return render(vnode, container, callback)\n  }\n}\n","import { VirtualNode, VType, Portal } from 'nerv-shared'\n\nexport function createPortal (children: VirtualNode, container: Element): Portal {\n  return {\n    type: container,\n    vtype: VType.Portal,\n    children,\n    dom: null\n  }\n}\n","// some library check React version\n// see: https://github.com/NervJS/nerv/issues/46\nexport const version = '15.4.2'\n","import { isValidElement as isValidNervElement, VType, isComponent, isInvalid } from 'nerv-shared'\nimport { nextTick } from 'nerv-utils'\nimport { getChildContext } from './lifecycle'\nimport { render } from './render'\nimport { unmount } from './vdom/unmount'\nimport createElement from './create-element'\nimport Component from './component'\n\nexport function unmountComponentAtNode (dom) {\n  const component = dom._component\n  if (isValidNervElement(component)) {\n    unmount(component, dom)\n    delete dom._component\n    return true\n  }\n  return false\n}\n\nexport function findDOMNode (component) {\n  if (isInvalid(component)) {\n    return null\n  }\n  return isComponent(component)\n    ? component.vnode.dom\n    : isValidNervElement(component)\n      ? component.dom : component\n}\n\nexport function createFactory (type) {\n  return createElement.bind(null, type)\n}\n\nclass WrapperComponent<P, S> extends Component<P, S> {\n  getChildContext () {\n    // tslint:disable-next-line\n    return this.props.context\n  }\n\n  render () {\n    return this.props.children\n  }\n}\n\nexport function unstable_renderSubtreeIntoContainer (\n  parentComponent,\n  vnode,\n  container,\n  callback\n) {\n  // @TODO: should handle props.context?\n  const wrapper = createElement(\n    WrapperComponent,\n    { context: getChildContext(parentComponent, parentComponent.context) },\n    vnode\n  )\n  const rendered = render(wrapper as any, container)\n  if (callback) {\n    callback.call(rendered)\n  }\n  return rendered\n}\n\nexport function isValidElement (element) {\n  return (\n    isValidNervElement(element) && (element.vtype & (VType.Composite | VType.Node)) > 0\n  )\n}\n\nexport const unstable_batchedUpdates = nextTick\n","import { noop } from 'nerv-shared'\nconst shim = noop as any\nshim.isRequired = noop\n\nfunction getShim () {\n  return shim\n}\n\nconst PropTypes = {\n  array: shim,\n  bool: shim,\n  func: shim,\n  number: shim,\n  object: shim,\n  string: shim,\n\n  any: shim,\n  arrayOf: getShim,\n  element: shim,\n  instanceOf: getShim,\n  node: shim,\n  objectOf: getShim,\n  oneOf: getShim,\n  oneOfType: getShim,\n  shape: getShim,\n  exact: getShim,\n  PropTypes: {},\n  checkPropTypes: noop\n}\n\nPropTypes.PropTypes = PropTypes\n\nexport { PropTypes }\n","import Component from './component'\nimport PureComponent from './pure-component'\nimport { render } from './render'\nimport createElement from './create-element'\nimport cloneElement from './clone-element'\nimport { nextTick } from 'nerv-utils'\nimport { Children } from './children'\nimport { hydrate } from './hydrate'\nimport options from './options'\nimport { createPortal } from './vdom/create-portal'\nimport { version } from './version'\nimport {\n  unmountComponentAtNode,\n  findDOMNode,\n  unstable_renderSubtreeIntoContainer,\n  createFactory,\n  unstable_batchedUpdates,\n  isValidElement\n} from './dom'\nimport { PropTypes } from './prop-types' // for React 15- compat\n\nexport {\n  Children,\n  Component,\n  PureComponent,\n  createElement,\n  cloneElement,\n  render,\n  nextTick,\n  options,\n  findDOMNode,\n  isValidElement,\n  unmountComponentAtNode,\n  createPortal,\n  unstable_renderSubtreeIntoContainer,\n  hydrate,\n  createFactory,\n  unstable_batchedUpdates,\n  version,\n  PropTypes\n}\n\nexport default {\n  Children,\n  Component,\n  PureComponent,\n  createElement,\n  cloneElement,\n  render,\n  nextTick,\n  options,\n  findDOMNode,\n  isValidElement,\n  unmountComponentAtNode,\n  createPortal,\n  unstable_renderSubtreeIntoContainer,\n  hydrate,\n  createFactory,\n  unstable_batchedUpdates,\n  version,\n  PropTypes\n} as any\n"],"names":["global","local","let","self","Function","e","Error","const","isBrowser","window","noop","fakeDoc","doc","document","isNumber","arg","isSupportSVG","isFunction","createAttributeNS","isString","isBoolean","isArray","Array","isUndefined","o","undefined","isMacSafari","navigator","platform","test","userAgent","canUsePromise","resolved","Promise","resolve","nextTick","fn","bind","args","then","timerFunc","requestAnimationFrame","setTimeout","Object","is","x","y","shallowEqual","obj1","obj2","obj1Keys","keys","obj2Keys","length","i","obj1KeyItem","hasOwnProperty","SimpleMap","cache","size","set","k","v","len","push","item","this","get","has","splice","clear","pop","MapClass","Map","isAttrAnEvent","attr","extend","source","from","assign","key","clone","obj","Current","EMPTY_CHILDREN","EMPTY_OBJ","isNullOrUndef","isInvalid","isVNode","node","vtype","isVText","isComponent","instance","isReactComponent","isPortal","isComposite","isValidElement","VType","lastVnode","nextVnode","domNode","prevRef","ref","nextRef","detach","dom","attach","vnode","component","inst","_owner","render","refs","ONINPUT","ONPROPERTYCHANGE","isiOS","delegatedEvents","unbubbleEvents","bindFocus","indexOf","elements","values","addEventListener","el","activeElement","detectCanUseOnInputNode","index","element","value","ev","createEvent","initCustomEvent","dispatchEvent","Event","prototype","persist","eventName","handler","fixEvent","delegatedRoots","event","attachEventToNode","attachEventToDocument","onclick","items","removeEventListener","parseEventName","delegatedRootsSize","propertyChangeActiveElement","propertyChangeActiveElementValue","propertyChangeActiveElementValueProp","propertyChangeActiveHandlers","propertyName","target","srcElement","val","name","call","unbindOnPropertyChange","getOwnPropertyDescriptor","constructor","defineProperty","propertyChangeHandler","nodeName","toLowerCase","type","substr","cancelBubble","stopImmediatePropagation","count","eventData","eventsToTrigger","currentTarget","defineProperties","parentDom","parentNode","nodeType","disabled","d","eventHandler","stopPropagation","error","eventToTrigger","options","children","beforeUnmount","destroy","props","propName","removeChild","NS","ATTRS","SVGPropertyConfig","xlink","xml","forEach","Properties","DOMAttributeNames","context","isSvg","lastDom","newDom","isSameVNode","update","afterUpdate","patchVText","createElement","replaceChild","lastChildren","nextChildren","lastLength","nextLength","textContent","isKeyed","lastChildrenIsArray","nextChildrenIsArray","minLength","Math","min","appendChild","a","b","aLength","bLength","aEnd","bEnd","aStart","bStart","j","aNode","bNode","nextNode","nextPos","aStartNode","bStartNode","aEndNode","bEndNode","outer","aLeft","bLeft","sources","moved","pos","patched","keyIndex","seq","lis","newNode","insertBefore","p","slice","result","u","il","c","lastVNode","nextVNode","nextText","text","nodeValue","skipProps","IS_NON_DIMENSIONAL","domStyle","style","isNaN","lastEvent","nextEvent","lastAttrValue","nextAttrValue","cssText","prop","lastValue","nextValue","className","lastHtml","__html","nextHtml","innerHTML","removeAttribute","namespace","DOMAttributeNamespaces","setAttributeNS","colonPosition","localName","removeAttributeNS","setAttribute","nextProps","previousProps","SVG_NAMESPACE","parentContext","parentComponent","init","afterMount","createTextNode","mountVNode","createDocumentFragment","child","childNode","createElementNS","readyComponents","boundary","componentDidCatch","_parentComponent","_disable","rendered","createVText","createVoid","componentWillMount","state","getState","clearCallBacks","_dirty","renderComponent","parentVNode","_rendered","componentDidMount","getChildContext","ensureVirtualNode","current","queue","prev","nextContext","componentWillReceiveProps","prevProps","prevState","prevContext","updateComponent","lastRendered","patch","isForce","skip","shouldComponentUpdate","componentWillUpdate","childContext","componentDidUpdate","componentWillUnmount","rerender","list","setState","callback","_pendingStates","_pendingCallbacks","stateClone","concat","nextState","forceUpdate","Component","container","_component","roots","filter","owner","childNodes","String","createVNode","toString","match","displayName","mountComponent","previous","reRenderComponent","mountStatelessComponent","onShouldComponentUpdate","reRenderStatelessComponent","newProps","propValue","defaultValue","svgPropName","defaultProps","properties","_children","transformPropsForRealTag","CurrentOwner","h","transformPropsForComponent","FullComponent","StatelessComponent","childrenTmp","arguments","map","cloneElement","newVNode","Children","ctx","toArray","arr","lastChild","next","previousSibling","version","isValidNervElement","wrapper","WrapperComponent","unstable_batchedUpdates","shim","isRequired","PropTypes","getShim","PureComponent","findDOMNode","unmountComponentAtNode","createPortal","unstable_renderSubtreeIntoContainer","hydrate","createFactory"],"mappings":"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"}